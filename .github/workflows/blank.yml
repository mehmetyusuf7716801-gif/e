MM2 SMART UNDERGROUND COLLECTOR
Features: Speed 25, Target Nearest, Underground Mode

local Player = game.Players.LocalPlayer
local RunService = game:GetService("RunService")
local WALK_SPEED = 25
local UNDERGROUND_DEPTH = 5.5 -- Adjust if you are too deep or too high
local Running = true

print("English Auto-Farm Script Loaded...")

-- Function to find the nearest coin in the map
local function getNearestCoin()
    local Character = Player.Character
    local RootPart = Character and Character:FindFirstChild("HumanoidRootPart")
    if not RootPart then return nil end

    local Target = nil
    local ShortestDistance = math.huge
    
    -- MM2 Coin folder location
    local Container = workspace:FindFirstChild("Normal") and workspace.Normal:FindFirstChild("CoinContainer")
    
    if Container then
        for _, coin in pairs(Container:GetChildren()) do
            if coin:IsA("BasePart") or coin:FindFirstChild("CoinVisual") then
                local distance = (RootPart.Position - coin.Position).Magnitude
                if distance < ShortestDistance then
                    ShortestDistance = distance
                    Target = coin
                end
            end
        end
    end
    return Target
end

-- Main Farming Loop
task.spawn(function()
    while Running do
        task.wait(0.1)
        local Character = Player.Character
        local RootPart = Character and Character:FindFirstChild("HumanoidRootPart")
        local Humanoid = Character and Character:FindFirstChild("Humanoid")

        if RootPart and Humanoid then
            -- Set speed to exactly 25
            Humanoid.WalkSpeed = WALK_SPEED
            
            local TargetCoin = getNearestCoin()
            if TargetCoin then
                -- Target position is right under the coin
                local TargetPos = TargetCoin.Position - Vector3.new(0, UNDERGROUND_DEPTH, 0)
                
                -- Lock character Y-Axis to stay underground
                RootPart.CFrame = CFrame.new(RootPart.Position.X, TargetPos.Y, RootPart.Position.Z)
                
                -- Move towards the coin's position
                Humanoid:MoveTo(TargetPos)
            end
        end
    end
end)

-- Notification
game.StarterGui:SetCore("SendNotification", {
    Title = "FARM ACTIVE",
    Text = "Speed: 25 | Mode: Underground",
    Duration = 5
})
